{"version":3,"sources":["images/logo.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Profile.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","mestoApi","options","getUserProfile","fetch","baseUrl","headers","then","res","ok","json","Promise","reject","status","getInitialCards","patchUserProfile","nameValue","aboutValue","method","body","JSON","stringify","name","about","postCard","linkValue","link","deleteCard","id","window","confirm","likeCard","isLiked","patchUserAvatar","avatarLink","avatar","this","authorization","CurrentUserContext","React","createContext","Card","memo","props","currentUser","useContext","card","cardDeleteButtonStyle","owner","_id","likes","some","i","cardLikeButtonClassName","style","backgroundImage","onClick","onCardClick","display","event","stopPropagation","onCardDelete","onCardLike","length","Profile","cards","onEditAvatar","onEditProfile","onAddPlace","map","PopupWithForm","openClass","isOpen","closePath","onClose","title","onSubmit","formName","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","type","placeholder","required","minLength","maxLength","EditAvatarPopup","setAvatar","avatarRef","useRef","onUpdateAvatar","ref","current","pattern","AddPlacePopup","Imglink","setImglink","ImagePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCards","closeAllPopups","result","newObj","catch","err","console","log","arr","slice","Provider","newCard","newCards","c","filter","user","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d61fada3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import logoPath from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header root__section\">\r\n            <img src={logoPath} alt=\"mesto logo\" className=\"logo\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header; ","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  getUserProfile = () => {\r\n\r\n    return fetch(this.baseUrl + \"/users/me\", { headers: this.headers })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  getInitialCards = () => {\r\n\r\n    return fetch(this.baseUrl + \"/cards\", { headers: this.headers })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  patchUserProfile = (nameValue, aboutValue) => {\r\n\r\n    return fetch(this.baseUrl + \"/users/me\", {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: nameValue,\r\n        about: aboutValue\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  postCard = (nameValue, linkValue) => {\r\n\r\n    return fetch(this.baseUrl + \"/cards\", {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: nameValue,\r\n        link: linkValue\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  deleteCard = (id) => {\r\n\r\n    if (window.confirm(\"Вы действительно хотите удалить эту карточку?\")) {\r\n      return fetch(this.baseUrl + \"/cards/\" + id, {\r\n        method: 'DELETE',\r\n        headers: this.headers\r\n      })\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return Promise.reject(res.status);\r\n        })\r\n    }\r\n  }\r\n\r\n  likeCard = (id, isLiked) => {\r\n\r\n    const method = isLiked ? 'DELETE' : 'PUT';\r\n\r\n    return fetch(this.baseUrl + \"/cards/like/\" + id, {\r\n      method: method,\r\n      headers: this.headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  patchUserAvatar = (avatarLink) => {\r\n\r\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink,\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(res.status);\r\n      })\r\n  }\r\n}\r\n\r\nconst userApiOptions = {\r\n  baseUrl: `https://nomoreparties.co/cohort11`,\r\n  headers: {\r\n    authorization: '9e994c9b-3ee0-4017-bdfe-5cb3911497f0',\r\n    'Content-Type': 'application/json'\r\n  }\r\n};\r\n\r\n//экземпляр класса\r\nconst mestoApi = new Api(userApiOptions);\r\n\r\nexport default mestoApi;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = React.memo((props) => {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const card = props.card; \r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonStyle = isOwn ? \"block\" : 'none';\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `place-card__like-icon ${isLiked ? 'place-card__like-icon_liked' : ''}`\r\n  ); \r\n\r\n  function handleClick() {\r\n    props.onCardClick(card);\r\n  }\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick(event) {\r\n    event.stopPropagation();\r\n    props.onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"place-card\">\r\n        <div className=\"place-card__image\" style={{ backgroundImage: `url(${card.link})` }} onClick={handleClick} >\r\n          <button className=\"place-card__delete-icon\" style={{ display: `${cardDeleteButtonStyle}` }} onClick={handleDeleteClick}></button>\r\n        </div>\r\n        <div className=\"place-card__description\">\r\n          <h3 className=\"place-card__name\">{card.name}</h3>\r\n          <div className=\"place-card__like-container\">\r\n            <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n            <p className=\"place-card__like-count\">{card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n})\r\n\r\nexport default Card; ","import React from 'react';\r\nimport mestoApi from '../utils/api';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Profile(props) {\r\n\r\n  const cards = props.cards;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile root__section\">\r\n        <div className=\"user-info\">\r\n          <div onClick={props.onEditAvatar} className=\"user-info__photo\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n          <div className=\"user-info__data\">\r\n            <h1 className=\"user-info__name\">{currentUser.name}</h1>\r\n            <p className=\"user-info__job\">{currentUser.about}</p>\r\n            <button onClick={props.onEditProfile} className=\"button profile__button\">Edit</button>\r\n          </div>\r\n          <button onClick={props.onAddPlace} className=\"button user-info__button\">+</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"places-list root__section\">\r\n        {cards.map((card, i) => (\r\n          <Card key={card._id} card={card}\r\n          onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile; ","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import closePath from '../images/close.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const openClass = props.isOpen ? 'popup_is-opened' : ''\r\n\r\n  return (\r\n    <div className={`popup ${props.name} ${openClass}`} id={props.id}>\r\n    <div className=\"popup__content\">\r\n      <img src={closePath} alt=\"\" className=\"popup__close\" onClick={props.onClose} />\r\n      <h3 className=\"popup__title\">{props.title}</h3>\r\n      <form onSubmit={props.onSubmit} className=\"popup__form\" name={props.formName}>\r\n        {props.children}\r\n      </form>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm; ","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} title=\"Редактировать профиль\" name=\"popup_edit-profile\" formName=\"formProfile\" id=\"\"\r\n      isOpen={props.isOpen} onClose={props.onClose}>\r\n      <span id=\"name-error\" className=\"popup__error\"></span>\r\n      <input value={name} onChange={handleName} id=\"name\" type=\"text\" name=\"name\"\r\n        className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"30\" />\r\n      <span id=\"about-error\" className=\"popup__error\"></span>\r\n      <input value={description} onChange={handleDescription} id=\"about\" type=\"text\" name=\"about\"\r\n        className=\"popup__input popup__input_type_link-url\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"60\" />\r\n      <button className=\"button popup__button popup__button_edit-profile popup__btn_enabled\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup; ","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [avatar, setAvatar] = React.useState('');\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleAvatar() {\r\n    setAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar,\r\n    });\r\n  } \r\n\r\n  React.useEffect(() => {\r\n    setAvatar(currentUser.avatar);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} title=\"Обновть аватар\" name=\"\" formName=\"formAvatar\" id=\"avatarEditPopup\"\r\n    isOpen={props.isOpen} onClose={props.onClose}>\r\n      <span id=\"avatarLink-error\" className=\"popup__error\"></span>\r\n      <input ref={avatarRef} onChange={handleAvatar} id=\"avatarLink\" type=\"text\" name=\"link\" className=\"popup__input\"\r\n        placeholder=\"Ссылка на аватар\" required minLength=\"2\" pattern=\"^(https?:\\/\\/)?([\\w-]{1,32}\\.[\\w-]{1,32})[^\\s@]*$\" />\r\n      <button id=\"avatarEditBtn\" className=\"button popup__button popup__button_edit-profile popup__btn_enabled\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup; ","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [Imglink, setImglink] = React.useState('');\r\n\r\n  function handleName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleImglink(e) {\r\n    setImglink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: Imglink,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} title=\"Новое место\" name=\"\" formName=\"new\" id=\"\"\r\n    isOpen={props.isOpen} onClose={props.onClose}>\r\n      <span id=\"name-error\" className=\"popup__error\"></span>\r\n      <input value={name} onChange={handleName} id=\"name\" type=\"text\" name=\"name\" className=\"popup__input popup__input_type_name\" placeholder=\"Название\"\r\n        required minLength=\"2\" maxLength=\"30\" />\r\n      <span id=\"link-error\" className=\"popup__error\"></span>\r\n      <input value={Imglink} onChange={handleImglink} id=\"link\" type=\"text\" name=\"link\" className=\"popup__input popup__input_type_link-url\"\r\n        placeholder=\"Ссылка на картинку\" required minLength=\"2\" />\r\n      <button className=\"button popup__button popup__btn_enabled\">+</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup; ","import closePath from '../images/close.svg';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  const openClass = props.card !== {} && props.card.link ? 'popup_is-opened' : ''\r\n\r\n  return (\r\n    <div className={`popup popup_image ${openClass}`}>\r\n      <div className=\"popup__content-image\">\r\n        <img src={closePath} alt=\"\" className=\"popup__close popup__close_image\" onClick={props.onClose} />\r\n        <img src={props.card.link && props.card.link } alt=\"\" className=\"popup_img\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup; ","import React from 'react';\n\nimport Header from './Header.js';\nimport Profile from './Profile.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport mestoApi from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setСurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    const newObj = { ...card }\n    setSelectedCard(newObj);\n  }\n\n  function handleUpdateUser(user) {\n    mestoApi.patchUserProfile(user.name, user.about)\n      .then((user) => { setСurrentUser(user); closeAllPopups(); })\n      .catch((err) => { console.log(`Ошибка: ${err}`); })\n  }\n\n  function handleUpdateAvatar(user) {\n    mestoApi.patchUserAvatar(user.avatar)\n      .then((user) => { setСurrentUser(user); closeAllPopups(); })\n      .catch((err) => { console.log(`Ошибка: ${err}`); })\n  }\n\n  function handleAddPlaceSubmit(card) {\n    mestoApi.postCard(card.name, card.link)\n      .then((card) => { setCards([...cards, card]); closeAllPopups(); })\n      .catch((err) => { console.log(`Ошибка: ${err}`); })\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function getUserInfo() {\n    mestoApi.getUserProfile()\n      .then((result) => { const newObj = { ...result }; setСurrentUser(newObj); })\n      .catch((err) => { console.log(`Ошибка: ${err}`); })\n  }\n\n  function getCards() {\n    mestoApi.getInitialCards()\n      .then((res) => { const arr = res.slice(); setCards(arr) })\n      .catch((err) => { console.log(`Ошибка: ${err}`); })\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    mestoApi.likeCard(card._id, isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      })\n  }\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n    if (isOwn) {\n      mestoApi.deleteCard(card._id)\n        .then(() => {\n          const newCards = cards.filter((c) => c._id !== card._id);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        })\n    }\n  }\n\n  React.useEffect(() => {\n    getUserInfo();\n    getCards();\n  }, [])\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n          <Header />\n          <Profile\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete} />\n          <div className=\"places-list root__section\">\n          </div>\n        </div>\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}